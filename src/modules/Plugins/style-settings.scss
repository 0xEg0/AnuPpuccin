.modal {
  --h1-font: var(--interface-font);
}

.style-settings-container:empty {
  display: none;
}
.style-settings-heading[data-level] {
  padding-top: var(--size-4-2);
  padding-bottom: var(--size-4-2);
}
.style-settings-heading[data-level="0"]:not(.is-collapsed) {
  margin-bottom: var(--size-4-2);
}
.style-settings-heading:not([data-level="0"]) {
  border-top: 1px solid rgba(var(--ctp-text), 0.2);
  border-bottom: none;
}
.style-settings-heading:not([data-level="0"], .is-collapsed) {
  margin-bottom: 0;
}
.style-settings-heading:not([data-level="0"]) + .style-settings-container {
  border: 1px solid rgba(var(--ctp-text), 0.2);
  border-radius: var(--radius-s);
  padding: var(--size-4-2);
  padding-left: var(--size-4-6);
  background-color: rgba(var(--ctp-crust), 0.3);
  overflow-x: hidden;
}
.style-settings-heading[data-level="0"]:not(.is-collapsed) + .style-settings-container {
  border-bottom: 1px solid var(--background-modifier-border);
}
.style-settings-heading[data-level="1"] {
  border-top-color: var(--background-modifier-border);
}
.style-settings-heading:not([data-level="0"]):nth-child(-n+2),
.style-settings-heading:not([data-level="0"], .is-collapsed) + .style-settings-container + .style-settings-heading,
.style-settings-container .setting-item + .setting-item-heading {
  border-top-width: 0;
}
.style-settings-heading:is(
  [data-id="anuppuccin-theme-settings"],
  [data-id="anuppuccin-theme-settings-extended"]
) {
  border-color: hsla(var(--color-accent-hsl), 0.2);
  &:not(.is-collapsed) + .style-settings-container {
    border-color: hsla(var(--color-accent-hsl), 0.2);
  }
  .setting-item-name {
    color: var(--color-accent);
  }
}
.anuppuccin-accent-toggle .style-settings-heading:is(
  [data-id="anuppuccin-theme-settings"],
  [data-id="anuppuccin-theme-settings-extended"]
) {
  border-color: rgba(var(--ctp-accent), 0.2);
  &:not(.is-collapsed) + .style-settings-container {
    border-color: rgba(var(--ctp-accent), 0.2);
  }
}

.style-settings-container .style-settings-heading[data-id="anuppuccin-support"] .setting-item-name {
  color: var(--color-accent) !important;
}

.style-settings-container .themed-color-wrapper {
    display: flex;
    gap: var(--size-4-2);
}
.style-settings-container .themed-color-wrapper > div + div {
    margin-top: 0;
}

.style-settings-container .setting-item:is(
  [data-id="anuppuccin-extended-colorschemes-links"],
  [data-id="anp-snippet-minimal-cards-disclaimer"],
  [data-id="anp-background-image-light"],
  [data-id="anp-background-image-dark"],
  [data-id="anuppuccin-theme-donate"],
  [data-id="anuppuccin-theme-source"]
) .setting-item-description > div {
  display: none;
}

.style-settings-container .setting-item-control:has(input[type=text]) {
  flex-grow: 0;
  position: relative;
  &::after {
    align-items: center;
    background-color: var(--background-modifier-hover);
    border-radius: var(--radius-s);
    display: flex;
    font-size: 10px;
    font-weight: var(--font-semibold);
    height: calc(var(--input-height) - 12px);
    justify-content: center;
    left: calc(100% - 68px);
    letter-spacing: 0.05em;
    line-height: var(--line-height-normal);
    padding: 0;
    position: absolute;
    text-transform: uppercase;
    top: 6px;
    width: 28px;
    .is-mobile & {
      top: 4px;
    }
  }
}

.style-settings-container .setting-item:is(
  [data-id="tag-border-width"],
  [data-id="callout-radius"],
  [data-id="file-line-width"],
  [data-id="file-margins"],
  [data-id="anp-card-radius"],
  [data-id="anp-card-layout-padding"],
  [data-id="anp-card-header-left-padding"],
  [data-id="anp-table-thickness"],
  [data-id="anp-alt-tab-custom-height"],
  [data-id="anp-depth-tab-gap"],
  [data-id="anp-safari-tab-radius"],
  [data-id="anp-safari-tab-gap"],
  [data-id="anp-safari-border-width"],
  [data-id="anp-stacked-header-width"]
) .setting-item-control::after {
  content: 'px';
}
.style-settings-container .setting-item:is(
  [data-id="h1-size"],
  [data-id="h2-size"],
  [data-id="h3-size"],
  [data-id="h4-size"],
  [data-id="h5-size"],
  [data-id="h6-size"],
  [data-id="list-indent"],
  [data-id="list-spacing"]
) .setting-item-control::after {
  content: 'em';
}
.style-settings-container .setting-item:is(
  [data-id="anp-preview-width-pct"],
  [data-id="anp-table-width-pct"]
) .setting-item-control::after {
  content: '%';
}
.setting-item[data-id="anp-colors-section-header"] > .setting-item-info > .setting-item-name {
  border-bottom: 2px solid;
  border-image: linear-gradient(to right, rgb(var(--ctp-rosewater)) 7%, rgb(var(--ctp-flamingo)) 7%, rgb(var(--ctp-flamingo)) 14%, rgb(var(--ctp-mauve)) 14%, rgb(var(--ctp-mauve)) 21%, rgb(var(--ctp-pink)) 21%, rgb(var(--ctp-pink)) 28%, rgb(var(--ctp-red)) 28%, rgb(var(--ctp-red)) 35%, rgb(var(--ctp-maroon)) 35%, rgb(var(--ctp-maroon)) 42%, rgb(var(--ctp-peach)) 42%, rgb(var(--ctp-peach)) 49%, rgb(var(--ctp-yellow)) 49%, rgb(var(--ctp-yellow)) 56%, rgb(var(--ctp-green)) 56%, rgb(var(--ctp-green)) 63%, rgb(var(--ctp-teal)) 63%, rgb(var(--ctp-teal)) 70%, rgb(var(--ctp-sky)) 70%, rgb(var(--ctp-sky)) 77%, rgb(var(--ctp-sapphire)) 77%, rgb(var(--ctp-sapphire)) 85%, rgb(var(--ctp-blue)) 85%, rgb(var(--ctp-blue)) 92%, rgb( var(--ctp-lavender))) 5;
}

.setting-item:is([data-id^="anuppuccin-url-"]) {
  .setting-item-control {
    display: none;
  }
  .setting-item-name::before {
    display: inline-flex;
    font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    height: fit-content;
    padding-right: var(--size-4-2);
    width: var(--size-4-4);
  }
}
.setting-item-heading > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator{
  &::after {
    font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    height: fit-content;
    margin-left: var(--size-4-3);
    width: var(--size-4-4);
  }
}
$linkEmojis: (
  "anuppuccin-url-donate": '\2615', //coffee
  "anuppuccin-url-star-repo": '\2b50', // star
  "anuppuccin-url-submit-issue": '\1f41e', // bug
  "anuppuccin-url-minimal-cards-snippet": '\2b07', //down
);
@each $link-data, $link-emoji in $linkEmojis {
  .setting-item[data-id="#{$link-data}"] .setting-item-name::before {
    content: "#{"" + $link-emoji}";
  }
}

$headingEmojis: (
  "anp-colors-section-header": '\1f3a8',
  "anp-editor-header": '\1f5d2',
  "anp-preview-header": '\1f4c4',
  "anp-plugin-header": '\1f50c',
  "anp-misc-element-header": '\1f4a1',
  "anp-show-hide-elements-header": '\1fa84',
  "anp-typography-header": '\1f520',
  "anp-workspace-header": '\1f5c3',
  "anuppuccin-support": '\2764'
);

@each $link-data, $link-emoji in $headingEmojis {
  .setting-item-heading[data-id="#{$link-data}"] > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator::after {
    content: "#{"" + $link-emoji}";
  }
}
.setting-item:is([data-id="anuppuccin-theme-settings"], [data-id="anuppuccin-theme-settings-extended"]) > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator {
  &::after {
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: contain;
    background-color: var(--color-accent);
    content: " ";
    display: inline-flex;
    flex-shrink: 0;
    height: calc(var(--font-ui-medium) + 3px);
    width: calc(var(--font-ui-medium) + 3px);
    margin-left: calc(-0.5*var(--size-4-1));
    margin-right: calc(var(--size-4-2) - 3px);
    transition: transform 0.1s;
    vertical-align: text-top;
  }
  & > svg {
    display: none;
  }
}
.setting-item:is([data-id="anuppuccin-theme-settings"]) > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator::after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' data-darkreader-inline-stroke='' style='--darkreader-inline-stroke:currentColor;'%3E%3Ccircle cx='13.5' cy='6.5' r='.5'%3E%3C/circle%3E%3Ccircle cx='17.5' cy='10.5' r='.5'%3E%3C/circle%3E%3Ccircle cx='8.5' cy='7.5' r='.5'%3E%3C/circle%3E%3Ccircle cx='6.5' cy='12.5' r='.5'%3E%3C/circle%3E%3Cpath d='M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z'%3E%3C/path%3E%3C/svg%3E");
}
.setting-item:is([data-id="anuppuccin-theme-settings-extended"]) > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator::after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z'%3E%3C/path%3E%3Cpath d='M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7'%3E%3C/path%3E%3Cpath d='M14.5 17.5 4.5 15'%3E%3C/path%3E%3C/svg%3E");
}
.setting-item:is([data-id="anuppuccin-theme-settings"]):not(.is-collapsed) > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator::after {
  transform: rotate(90deg);
  transition: transform 0.1s;
}
.setting-item:is([data-id="anuppuccin-theme-settings-extended"]):not(.is-collapsed) > .setting-item-info > .setting-item-name > .style-settings-collapse-indicator::after {
  transform: rotate(-90deg);
  transition: transform 0.1s;
}
